jQuery(function(e){e("form#edit-user-form").submit(function(t){t.preventDefault(),e(this).find("ul#errorMessage").length>0&&e(this).find("ul#errorMessage").remove();var s=formToJSON(this),n=e(this).attr("method"),o=!1,i="";return button=e(this).find('button[type="submit"]'),""==s.prenom&&(o=!0,i+="<li>Vous devez renseigner un prenom</li>"),""==s.nom&&(o=!0,i+="<li>Vous devez renseigner un nom</li>"),""==s.email?(o=!0,i+="<li>Vous devez renseigner un email</li>"):/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s.email)||(o=!0,i+="<li>L'email n'est pas valide</li>"),"POST"===n&&(""==s["mot-passe"]?(o=!0,i+="<li>Vous devez renseigner un mot de passe</li>"):s["mot-passe"]!=s["mot-passe-verif"]&&(o=!0,i+="<li>Les mots de passe ne correspondent pas!</li>")),!1!==o?button.before('<ul id="errorMessage">'+i+"</ul>"):e.ajax({url:window.location.href,type:n,data:s,dataType:"JSON"}).done(function(t){!0===t?swal({title:"Sauvegardé!",text:"Les informations ont bien été sauvegardé",type:"success",timer:1500,showConfirmButton:!1}).then(function(){window.location.href="/users"}):!1===t?swal({title:"Oups...",text:"Il y a eu un problème lors de la sauvegarde dans la base de donnée",type:"error",timer:1500,showConfirmButton:!1}):(i="",e.each(t,function(e,t){i+="<li>"+t+"</li>"}),button.before('<ul id="errorMessage">'+i+"</ul>"))}),!1})});